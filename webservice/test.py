from layout.tadashi.model import TadashiLayout
import cv2

# weights_path = {
#         "textline": "Model/Tadashi/frozen_model_textline.pb",
#         "border": "Model/Tadashi/frozen_model_border.pb"
# }
# model = TadashiLayout(weights_path=weights_path)
# result = model.process(cv2.imread('sample.jpg'))
image = cv2.imread('../ocr_worker/sample.jpg')
# cv2.imshow('sample',image)
# cv2.waitKey(0)
result = [{'location': [(68, 34), (312, 34), (312, 70), (68, 70)], 'type': 'textline'}, {'location': [(24, 80), (68, 80), (68, 114), (24, 114)], 'type': 'textline'}, {'location': [(22, 130), (54, 130), (54, 148), (22, 148)], 'type': 'textline'}, {'location': [(24, 150), (64, 150), (64, 178), (24, 178)], 'type': 'textline'}, {'location': [(26, 178), (68, 178), (68, 212), (26, 212)], 'type': 'textline'}, {'location': [(26, 212), (64, 212), (64, 240), (26, 240)], 'type': 'textline'}, {'location': [(24, 246), (70, 246), (70, 276), (24, 276)], 'type': 'textline'}, {'location': [(24, 280), (66, 280), (66, 310), (24, 310)], 'type': 'textline'}, {'location': [(1902, 298), (1932, 298), (1932, 322), (1902, 322)], 'type': 'textline'}, {'location': [(1974, 298), (2008, 298), (2008, 330), (1974, 330)], 'type': 'textline'}, {'location': [(878, 262), (1964, 256), (1966, 348), (878, 354)], 'type': 'textline'}, {'location': [(1762, 348), (2240, 338), (2242, 390), (1762, 400)], 'type': 'textline'}, {'location': [(342, 416), (618, 412), (620, 460), (342, 466)], 'type': 'textline'}, {'location': [(336, 472), (594, 474), (592, 528), (336, 524)], 'type': 'textline'}, {'location': [(258, 536), (304, 536), (304, 570), (258, 570)], 'type': 'textline'}, {'location': [(260, 746), (302, 746), (302, 780), (260, 780)], 'type': 'textline'}, {'location': [(1100, 930), (1124, 930), (1124, 954), (1100, 954)], 'type': 'textline'}, {'location': [(350, 948), (366, 948), (366, 962), (350, 962)], 'type': 'textline'}, {'location': [(1100, 928), (1400, 928), (1400, 978), (1100, 978)], 'type': 'textline'}, {'location': [(350, 932), (648, 924), (650, 972), (350, 982)], 'type': 'textline'}, {'location': [(912, 930), (968, 930), (968, 976), (912, 976)], 'type': 'textline'}, {'location': [(1012, 940), (1084, 940), (1084, 978), (1012, 978)], 'type': 'textline'}, {'location': [(1010, 972), (1078, 972), (1078, 1008), (1010, 1008)], 'type': 'textline'}, {'location': [(250, 986), (316, 986), (316, 1022), (250, 1022)], 'type': 'textline'}, {'location': [(834, 986), (874, 986), (874, 1020), (834, 1020)], 'type': 'textline'}, {'location': [(1046, 1002), (1086, 1002), (1086, 1024), (1046, 1024)], 'type': 'textline'}, {'location': [(1576, 1004), (1784, 994), (1786, 1030), (1576, 1040)], 'type': 'textline'}, {'location': [(1828, 998), (2134, 998), (2134, 1038), (1828, 1038)], 'type': 'textline'}, {'location': [(1012, 1002), (1076, 1002), (1076, 1040), (1012, 1040)], 'type': 'textline'}, {'location': [(248, 1014), (320, 1014), (320, 1054), (248, 1054)], 'type': 'textline'}, {'location': [(830, 1018), (874, 1018), (874, 1054), (830, 1054)], 'type': 'textline'}, {'location': [(1042, 1036), (1080, 1036), (1080, 1068), (1042, 1068)], 'type': 'textline'}, {'location': [(350, 1122), (1546, 1116), (1548, 1168), (350, 1172)], 'type': 'textline'}, {'location': [(1594, 1124), (1924, 1116), (1926, 1166), (1594, 1174)], 'type': 'textline'}, {'location': [(1968, 1124), (2074, 1124), (2074, 1172), (1968, 1172)], 'type': 'textline'}, {'location': [(1590, 1194), (1606, 1194), (1606, 1208), (1590, 1208)], 'type': 'textline'}, {'location': [(1594, 1172), (2162, 1170), (2164, 1222), (1594, 1226)], 'type': 'textline'}, {'location': [(350, 1178), (656, 1178), (656, 1236), (350, 1236)], 'type': 'textline'}, {'location': [(258, 1216), (306, 1216), (306, 1250), (258, 1250)], 'type': 'textline'}, {'location': [(260, 1352), (304, 1352), (304, 1386), (260, 1386)], 'type': 'textline'}, {'location': [(352, 1506), (658, 1506), (658, 1552), (352, 1552)], 'type': 'textline'}, {'location': [(1684, 1516), (1992, 1516), (1992, 1558), (1684, 1558)], 'type': 'textline'}, {'location': [(262, 1574), (302, 1574), (302, 1606), (262, 1606)], 'type': 'textline'}, {'location': [(1580, 1570), (1634, 1570), (1634, 1608), (1580, 1608)], 'type': 'textline'}, {'location': [(260, 1640), (300, 1640), (300, 1676), (260, 1676)], 'type': 'textline'}, {'location': [(260, 1708), (306, 1708), (306, 1746), (260, 1746)], 'type': 'textline'}, {'location': [(1582, 1710), (1628, 1710), (1628, 1746), (1582, 1746)], 'type': 'textline'}, {'location': [(330, 1906), (1036, 1902), (1038, 1958), (330, 1962)], 'type': 'textline'}, {'location': [(1508, 1906), (1822, 1898), (1824, 1954), (1508, 1960)], 'type': 'textline'}, {'location': [(1430, 1948), (1480, 1948), (1480, 1984), (1430, 1984)], 'type': 'textline'}, {'location': [(258, 1952), (304, 1952), (304, 1984), (258, 1984)], 'type': 'textline'}, {'location': [(1432, 2010), (1480, 2010), (1480, 2044), (1432, 2044)], 'type': 'textline'}, {'location': [(1436, 2070), (1474, 2070), (1474, 2106), (1436, 2106)], 'type': 'textline'}, {'location': [(260, 2070), (302, 2070), (302, 2110), (260, 2110)], 'type': 'textline'}, {'location': [(266, 2256), (306, 2256), (306, 2292), (266, 2292)], 'type': 'textline'}, {'location': [(342, 2254), (1268, 2252), (1270, 2308), (342, 2312)], 'type': 'textline'}, {'location': [(266, 2288), (302, 2288), (302, 2326), (266, 2326)], 'type': 'textline'}, {'location': [(262, 2322), (304, 2322), (304, 2360), (262, 2360)], 'type': 'textline'}, {'location': [(1834, 2394), (1912, 2394), (1912, 2432), (1834, 2432)], 'type': 'textline'}, {'location': [(2158, 2398), (2238, 2398), (2238, 2432), (2158, 2432)], 'type': 'textline'}, {'location': [(262, 2400), (308, 2400), (308, 2434), (262, 2434)], 'type': 'textline'}, {'location': [(262, 2430), (306, 2430), (306, 2470), (262, 2470)], 'type': 'textline'}, {'location': [(290, 2478), (306, 2478), (306, 2492), (290, 2492)], 'type': 'textline'}, {'location': [(1832, 2470), (1910, 2470), (1910, 2504), (1832, 2504)], 'type': 'textline'}, {'location': [(2156, 2468), (2242, 2468), (2242, 2506), (2156, 2506)], 'type': 'textline'}, {'location': [(260, 2466), (304, 2466), (304, 2506), (260, 2506)], 'type': 'textline'}, {'location': [(258, 2598), (306, 2598), (306, 2634), (258, 2634)], 'type': 'textline'}, {'location': [(264, 2736), (306, 2736), (306, 2768), (264, 2768)], 'type': 'textline'}, {'location': [(268, 2902), (1422, 2904), (1420, 2964), (268, 2960)], 'type': 'textline'}, {'location': [(596, 2994), (1110, 2994), (1110, 3046), (596, 3046)], 'type': 'textline'}, {'location': [(1898, 2996), (2178, 3000), (2176, 3060), (1898, 3054)], 'type': 'textline'}, {'location': [(2078, 3056), (2180, 3056), (2180, 3118), (2078, 3118)], 'type': 'textline'}, {'location': [(1908, 3114), (2174, 3106), (2176, 3160), (1908, 3168)], 'type': 'textline'}, {'location': [(736, 3118), (1326, 3112), (1328, 3176), (736, 3184)], 'type': 'textline'}, {'location': [(1482, 3110), (1852, 3102), (1854, 3176), (1482, 3184)], 'type': 'textline'}, {'location': [(1906, 3170), (2170, 3166), (2172, 3222), (1906, 3224)], 'type': 'textline'}, {'location': [(2416, 3212), (2456, 3212), (2456, 3238), (2416, 3238)], 'type': 'textline'}, {'location': [(2416, 3238), (2456, 3238), (2456, 3270), (2416, 3270)], 'type': 'textline'}, {'location': [(1886, 3232), (2188, 3228), (2190, 3284), (1886, 3290)], 'type': 'textline'}, {'location': [(2416, 3276), (2452, 3276), (2452, 3302), (2416, 3302)], 'type': 'textline'}, {'location': [(2412, 3304), (2452, 3304), (2452, 3334), (2412, 3334)], 'type': 'textline'}, {'location': [(2414, 3332), (2458, 3332), (2458, 3368), (2414, 3368)], 'type': 'textline'}, {'location': [(2412, 3404), (2462, 3404), (2462, 3440), (2412, 3440)], 'type': 'textline'}, {'location': [(2364, 3446), (2412, 3446), (2412, 3478), (2364, 3478)], 'type': 'textline'}, {'location': [(2224, 3452), (2290, 3452), (2290, 3482), (2224, 3482)], 'type': 'textline'}, {'location': [(2316, 3466), (2334, 3466), (2334, 3480), (2316, 3480)], 'type': 'textline'}, {'location': [(1898, 3224), (2178, 3224), (2178, 3280), (1898, 3280)], 'type': 'cell', 'contain': [78]}, {'location': [(1896, 3060), (2178, 3060), (2178, 3226), (1896, 3226)], 'type': 'cell', 'contain': [71, 72, 75]}, {'location': [(1896, 2998), (2174, 2998), (2174, 3062), (1896, 3062)], 'type': 'cell', 'contain': [70]}, {'location': [(242, 2522), (314, 2522), (314, 2856), (242, 2856)], 'type': 'cell', 'contain': [66, 67]}, {'location': [(316, 2518), (2236, 2518), (2236, 2856), (316, 2856)], 'type': 'cell', 'contain': []}, {'location': [(1562, 2446), (2234, 2446), (2234, 2516), (1562, 2516)], 'type': 'cell', 'contain': [63, 64]}, {'location': [(242, 2378), (314, 2378), (314, 2516), (242, 2516)], 'type': 'cell', 'contain': [60, 61, 62, 65]}, {'location': [(1564, 2372), (2234, 2372), (2234, 2442), (1564, 2442)], 'type': 'cell', 'contain': [58, 59]}, {'location': [(316, 2372), (1562, 2372), (1562, 2516), (316, 2516)], 'type': 'cell', 'contain': []}, {'location': [(316, 2232), (2234, 2232), (2234, 2372), (316, 2372)], 'type': 'cell', 'contain': [55]}, {'location': [(242, 2232), (314, 2232), (314, 2372), (242, 2372)], 'type': 'cell', 'contain': [54, 56, 57]}, {'location': [(316, 2032), (1410, 2032), (1410, 2228), (316, 2228)], 'type': 'cell', 'contain': []}, {'location': [(1488, 2030), (2234, 2030), (2234, 2226), (1488, 2226)], 'type': 'cell', 'contain': []}, {'location': [(242, 1836), (314, 1836), (314, 2228), (242, 2228)], 'type': 'cell', 'contain': [50, 53]}, {'location': [(1488, 1834), (2234, 1834), (2234, 2030), (1488, 2030)], 'type': 'cell', 'contain': [48]}, {'location': [(1412, 1834), (1488, 1834), (1488, 2226), (1412, 2226)], 'type': 'cell', 'contain': [49, 51, 52]}, {'location': [(316, 1834), (1410, 1834), (1410, 2030), (316, 2030)], 'type': 'cell', 'contain': [47]}, {'location': [(316, 1716), (1562, 1716), (1562, 1834), (316, 1834)], 'type': 'cell', 'contain': []}, {'location': [(1638, 1712), (2234, 1712), (2234, 1832), (1638, 1832)], 'type': 'cell', 'contain': []}, {'location': [(1638, 1596), (2234, 1596), (2234, 1710), (1638, 1710)], 'type': 'cell', 'contain': []}, {'location': [(316, 1596), (1562, 1596), (1562, 1710), (316, 1710)], 'type': 'cell', 'contain': []}, {'location': [(242, 1474), (314, 1474), (314, 1834), (242, 1834)], 'type': 'cell', 'contain': [42, 44, 45]}, {'location': [(1638, 1472), (2234, 1472), (2234, 1592), (1638, 1592)], 'type': 'cell', 'contain': [41]}, {'location': [(1562, 1472), (1636, 1472), (1636, 1832), (1562, 1832)], 'type': 'cell', 'contain': [43, 46]}, {'location': [(316, 1472), (1562, 1472), (1562, 1594), (316, 1594)], 'type': 'cell', 'contain': [40]}, {'location': [(1562, 1354), (2234, 1354), (2234, 1470), (1562, 1470)], 'type': 'cell', 'contain': []}, {'location': [(316, 1354), (1562, 1354), (1562, 1474), (316, 1474)], 'type': 'cell', 'contain': []}, {'location': [(1562, 1234), (2234, 1234), (2234, 1350), (1562, 1350)], 'type': 'cell', 'contain': []}, {'location': [(316, 1234), (1562, 1234), (1562, 1350), (316, 1350)], 'type': 'cell', 'contain': []}, {'location': [(1562, 1112), (2234, 1112), (2234, 1232), (1562, 1232)], 'type': 'cell', 'contain': [33, 34, 35, 36]}, {'location': [(316, 1112), (1562, 1112), (1562, 1232), (316, 1232)], 'type': 'cell', 'contain': [32, 37]}, {'location': [(242, 1112), (314, 1112), (314, 1474), (242, 1474)], 'type': 'cell', 'contain': [38, 39]}, {'location': [(1082, 1048), (1562, 1048), (1562, 1110), (1082, 1110)], 'type': 'cell', 'contain': []}, {'location': [(886, 1048), (1004, 1048), (1004, 1110), (886, 1110)], 'type': 'cell', 'contain': []}, {'location': [(314, 1048), (808, 1048), (808, 1112), (314, 1112)], 'type': 'cell', 'contain': []}, {'location': [(1082, 984), (1562, 984), (1562, 1046), (1082, 1046)], 'type': 'cell', 'contain': []}, {'location': [(314, 984), (808, 984), (808, 1046), (314, 1046)], 'type': 'cell', 'contain': []}, {'location': [(314, 920), (808, 920), (808, 982), (314, 982)], 'type': 'cell', 'contain': [17, 19]}, {'location': [(240, 920), (312, 920), (312, 1112), (240, 1112)], 'type': 'cell', 'contain': [23, 29]}, {'location': [(812, 916), (884, 916), (884, 1110), (812, 1110)], 'type': 'cell', 'contain': [24, 30]}, {'location': [(1794, 914), (2234, 914), (2234, 1110), (1794, 1110)], 'type': 'cell', 'contain': [27]}, {'location': [(1562, 914), (1792, 914), (1792, 1110), (1562, 1110)], 'type': 'cell', 'contain': [26]}, {'location': [(1082, 914), (1562, 914), (1562, 978), (1082, 978)], 'type': 'cell', 'contain': [16, 18]}, {'location': [(1008, 914), (1080, 914), (1080, 1110), (1008, 1110)], 'type': 'cell', 'contain': [21, 22, 25, 28, 31]}, {'location': [(314, 740), (2234, 740), (2234, 916), (314, 916)], 'type': 'cell', 'contain': []}, {'location': [(314, 566), (2234, 566), (2234, 740), (314, 740)], 'type': 'cell', 'contain': []}, {'location': [(314, 400), (2234, 400), (2234, 566), (314, 566)], 'type': 'cell', 'contain': [12, 13]}, {'location': [(238, 400), (312, 400), (312, 916), (238, 916)], 'type': 'cell', 'contain': [14, 15]}]
item = result[0]
location = item['location']
x1 = location[0][0]
x2 = location[1][0]
y1 = location[0][1]
y2 = location[2][1]

print(x1)
print(x2)
print(y1)
print(y2)

# ocr_image = image[y1:y2, x1:x2]
# cv2.imshow('image', ocr_image)
# cv2.waitKey(0)
